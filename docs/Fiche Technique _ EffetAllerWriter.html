<p /><p><strong>Introduction</strong></p><p><strong>Description</strong> : La tache EffetAllerWriter est une extension de FlatFileWriter utilis&eacute;e pour envoyer les effets aller vers ORION. Elle g&eacute;n&egrave;re des fichiers plats contenant les informations des effets &agrave; envoyer et met &agrave; jour leur &eacute;tat dans la base de donn&eacute;es.</p><p><strong>Package</strong></p><p><strong>Emplacement</strong> : sas.action.writers.orion</p><p><strong>Description Fonctionnelle</strong></p><p><strong>Objectif</strong> : Envoyer les effets aller vers ORION en g&eacute;n&eacute;rant des fichiers plats et mettre &agrave; jour leur &eacute;tat dans la base de donn&eacute;es.</p><p><strong>Traitement</strong> :</p><p>R&eacute;cup&egrave;re les remises et les effets associ&eacute;s depuis la base de donn&eacute;es.</p><p>G&eacute;n&egrave;re un fichier plat pour chaque remise avec les d&eacute;tails des effets.</p><p>Met &agrave; jour l'&eacute;tat des remises et des effets apr&egrave;s envoi.</p><p><strong>M&eacute;thodes</strong></p><p><strong>EffetAllerWriter()</strong> : Constructeur par d&eacute;faut qui initialise la description de l'envoi.</p><p><strong>execute()</strong> : Ex&eacute;cute le processus d'envoi des effets aller vers ORION.</p><p><strong>get03EnteteRemise(Remises remises, Effets effet)</strong> : G&eacute;n&egrave;re l'en-t&ecirc;te pour une remise.</p><p><strong>get06Effet(Effets effet)</strong> : G&eacute;n&egrave;re les d&eacute;tails pour un effet.</p><p><strong>get07Endos(Effets effet)</strong> : G&eacute;n&egrave;re les informations d'endossement pour un effet.</p><p><strong>get16AdresseTire(Effets effet)</strong> : G&eacute;n&egrave;re l'adresse du tireur pour un effet.</p><p><strong>get0ARIBTire(Effets effet)</strong> : G&eacute;n&egrave;re les informations RIB du tireur pour un effet.</p><p><strong>get0BFrais(Effets effet)</strong> : G&eacute;n&egrave;re les informations de frais pour un effet.</p><p><strong>get0EDivers(Effets effet)</strong> : G&eacute;n&egrave;re les informations diverses pour un effet.</p><p><strong>get08FinRemise(Remises remise)</strong> : G&eacute;n&egrave;re la fin de la remise.</p><p><strong>retrieveListeEffets(BigDecimal remise)</strong> : R&eacute;cup&egrave;re la liste des effets pour une remise donn&eacute;e.</p><p><strong>retrieveListeRemises()</strong> : R&eacute;cup&egrave;re la liste des remises &agrave; traiter.</p><p><strong>updateEtatOperations()</strong> : Met &agrave; jour l'&eacute;tat des remises et des effets apr&egrave;s traitement.</p><p><strong>Param&egrave;tres Utilis&eacute;s</strong></p><p><strong>EFF_NORM_IN_FILE_ROOTNAME</strong> : Nom de base pour les fichiers d'effets normalis&eacute;s.</p><p><strong>SIB_NORM_FILE_EXTENSION</strong> : Extension des fichiers d'effets normalis&eacute;s.</p><p><strong>CETAOPEVAL2</strong> : &Eacute;tat initial des effets &agrave; envoyer.</p><p><strong>CETAOPEVALDELTA</strong> : &Eacute;tat final des effets apr&egrave;s envoi.</p><p><strong>SIB_IN_FOLDER</strong> : Dossier de destination pour les fichiers g&eacute;n&eacute;r&eacute;s.</p><p><strong>Remarques</strong></p><p><strong>Gestion des Erreurs</strong> : Les erreurs lors de l'envoi des effets aller sont g&eacute;r&eacute;es par des logs et des messages d'avertissement.</p><p><strong>Extensibilit&eacute;</strong> : La tache peut &ecirc;tre &eacute;tendue pour inclure d'autres types d'effets ou de traitements sp&eacute;cifiques.</p><p><strong>Int&eacute;gration</strong> : Cette tache utilise DataBaseJPA pour interagir avec la base de donn&eacute;es et effectuer les mises &agrave; jour n&eacute;cessaires.</p>