<p /><p><strong>Introduction</strong></p><p><strong>Description</strong> : La tache MailiIntCorpURIWriter est une extension de BinFileWriter utilis&eacute;e pour g&eacute;n&eacute;rer et envoyer des fichiers de type Maili interne vers une banque. Elle traite les ch&egrave;ques et effets, g&eacute;n&egrave;re des fichiers binaires contenant les d&eacute;tails des transactions, et met &agrave; jour l'&eacute;tat des op&eacute;rations dans la base de donn&eacute;es.</p><p><strong>Package</strong></p><p><strong>Emplacement</strong> : sas.action.writers.corporates</p><p><strong>Description Fonctionnelle</strong></p><p><strong>Objectif</strong> : G&eacute;n&eacute;rer des fichiers Maili internes pour les ch&egrave;ques et effets, et mettre &agrave; jour l'&eacute;tat des op&eacute;rations dans la base de donn&eacute;es.</p><p><strong>Traitement</strong> :</p><p>Met &agrave; jour l'&eacute;tat des ch&egrave;ques et effets dans la base de donn&eacute;es.</p><p>R&eacute;cup&egrave;re les ch&egrave;ques et effets &agrave; traiter.</p><p>Calcule le montant total des ch&egrave;ques et effets.</p><p>G&eacute;n&egrave;re des fichiers binaires contenant les d&eacute;tails des transactions.</p><p>Envoie un email r&eacute;capitulatif si configur&eacute;.</p><p>Met &agrave; jour l'&eacute;tat des op&eacute;rations apr&egrave;s traitement.</p><p><strong>M&eacute;thodes</strong></p><p><strong>execute()</strong> : Ex&eacute;cute le processus de g&eacute;n&eacute;ration des fichiers Maili internes, en mettant &agrave; jour l'&eacute;tat des ch&egrave;ques et effets, en r&eacute;cup&eacute;rant les transactions &agrave; traiter, en g&eacute;n&eacute;rant les fichiers binaires, et en mettant &agrave; jour l'&eacute;tat des op&eacute;rations.</p><p><strong>prepareCheques(List&lt;Cheques&gt; cheques)</strong> : Pr&eacute;pare les fichiers binaires pour les ch&egrave;ques, en g&eacute;n&eacute;rant les en-t&ecirc;tes et les lignes de transaction, et en mettant &agrave; jour l'&eacute;tat des ch&egrave;ques.</p><p><strong>prepareEffets(List&lt;Effets&gt; effets)</strong> : Pr&eacute;pare les fichiers binaires pour les effets, en g&eacute;n&eacute;rant les en-t&ecirc;tes et les lignes de transaction, et en mettant &agrave; jour l'&eacute;tat des effets.</p><p><strong>updateEtatOperations()</strong> : Met &agrave; jour l'&eacute;tat des op&eacute;rations pour les ch&egrave;ques et effets apr&egrave;s traitement.</p><p><strong>addErrorMessage(String message, String fromEcran)</strong> : Ajoute un message d'erreur dans le contexte de l'application.</p><p><strong>addInfoMessage(String message, String fromEcran)</strong> : Ajoute un message d'information dans le contexte de l'application.</p><p><strong>addWarningMessage(String message, String fromEcran)</strong> : Ajoute un message d'avertissement dans le contexte de l'application.</p><p><strong>Param&egrave;tres Utilis&eacute;s</strong></p><p><strong>CETAOPEVALDELTA</strong> : Param&egrave;tre utilis&eacute; pour identifier l'&eacute;tat des ch&egrave;ques et effets valides.</p><p><strong>CETAOPEALLICOM1</strong> : Param&egrave;tre utilis&eacute; pour identifier l'&eacute;tat des ch&egrave;ques et effets apr&egrave;s traitement.</p><p><strong>CETAIMASTO</strong> : Param&egrave;tre utilis&eacute; pour identifier l'&eacute;tat des images des ch&egrave;ques et effets.</p><p><strong>CETAIMATRA</strong> : Param&egrave;tre utilis&eacute; pour identifier l'&eacute;tat des images apr&egrave;s traitement.</p><p><strong>CETAIMAENV</strong> : Param&egrave;tre utilis&eacute; pour identifier l'&eacute;tat des images apr&egrave;s envoi.</p><p><strong>DATECOMPENS_NAT</strong> : Date de compensation nationale utilis&eacute;e pour la g&eacute;n&eacute;ration des fichiers.</p><p><strong>VERSION_SICA</strong> : Version du syst&egrave;me SICA utilis&eacute;e pour d&eacute;terminer le format des fichiers.</p><p><strong>EMAILS_DEST_OPS</strong> : Adresse email de destination pour l'envoi du r&eacute;capitulatif.</p><p><strong>URI_PARAM_CORP_ON_BANK</strong> : URI param&eacute;tr&eacute; pour les op&eacute;rations corporatives sur la banque.</p><p><strong>Remarques</strong></p><p><strong>Gestion des Erreurs</strong> : Les erreurs lors du traitement des ch&egrave;ques et effets, ainsi que de la g&eacute;n&eacute;ration des fichiers, sont enregistr&eacute;es dans les logs.</p><p><strong>Extensibilit&eacute;</strong> : La classe est con&ccedil;ue pour &ecirc;tre facilement extensible pour inclure d'autres types de v&eacute;rifications ou de formats de fichiers si n&eacute;cessaire.</p><p><strong>Configuration</strong> : La classe utilise des composants configurables pour le traitement des ch&egrave;ques et effets, la g&eacute;n&eacute;ration des fichiers, et la mise &agrave; jour des &eacute;tats, permettant une adaptation facile aux besoins sp&eacute;cifiques du syst&egrave;me.</p><p><strong>Fichiers Binaires</strong> : Les fichiers binaires g&eacute;n&eacute;r&eacute;s contiennent les d&eacute;tails des transactions, y compris le montant total, le nombre de transactions, et d'autres informations pertinentes, et sont enregistr&eacute;s dans le r&eacute;pertoire sp&eacute;cifi&eacute; par SIB_IN_FOLDER.</p><p><strong>Envoi d'Email</strong> : Un email r&eacute;capitulatif est envoy&eacute; apr&egrave;s la g&eacute;n&eacute;ration des fichiers si le param&egrave;tre SEND_RECAP_EMAIL est configur&eacute; &agrave; &quot;OUI&quot;.</p>